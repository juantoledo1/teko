---
import { Image } from 'astro:assets';

// Data for the pricing plans, adjusted for entrepreneurs and SMEs in Posadas, Misiones.
// Prices in Argentine Pesos (ARS).
const plans = [
  {
    type: 'emprendedor',
    title: 'Emprendedor',
    price: '$75,000',
    period: 'único',
    description: 'Landing Page para Emprendedores',
    features: [
      'Diseño moderno y responsive',
      'Hasta 4 secciones',
      'Hasta 5 fotos que nos envíes',
      'Link directo a WhatsApp y redes sociales',
      'Dominio gratuito incluido',
      'Mapa de ubicación',
      'Soporte mensual (opcional): $20,000'
    ],
    buttonText: 'Contratar Plan',
    buttonIcon: 'fa-bolt',
    featured: false,
    iconColor: '#3498db'
  },
  {
    type: 'pyme',
    title: 'PYME Local',
    price: '$130,000',
    period: 'único',
    description: 'Landing Page para PYMEs',
    features: [
      'Diseño moderno y responsive',
      'Hasta 5 secciones',
      'Hasta 10 fotos que nos envíes',
      'Link directo a WhatsApp y redes sociales',
      'Formulario de contacto con envío a tu email',
      'Mapa de ubicación',
      'Dominio gratuito incluido',
      'Soporte mensual (opcional): $30,000'
    ],
    buttonText: '¡Elige este Plan!',
    buttonIcon: 'fa-store',
    featured: true,
    iconColor: '#1abc9c'
  },
  {
    type: 'invitaciones',
    title: 'Invitaciones Web',
    price: '$85,000',
    period: 'único',
    description: 'Invitaciones para Eventos',
    features: [
      'Invitaciones personalizadas para eventos',
      'Cumpleaños, bodas, lanzamientos',
      'Duración de 3 meses en la nube',
      'Botón de confirmación de asistencia',
      'Botón de código de etiqueta de vestimenta',
      'Botón de donaciones',
      'Mapa de ubicación',
      'Pago único'
    ],
    buttonText: 'Crear Invitación',
    buttonIcon: 'fa-gift',
    featured: false,
    iconColor: '#e74c3c'
  },
  {
    type: 'soporte',
    title: 'Soporte Emprendedor',
    price: '$20,000',
    period: 'mensual',
    description: 'Soporte para Emprendedores',
    features: [
      'Cambios de texto e imágenes',
      'Actualizaciones menores',
      'Mantenimiento preventivo',
      'Control de actualizaciones',
      'Respaldo de datos',
      'Asistencia técnica prioritaria'
    ],
    buttonText: 'Contratar Soporte',
    buttonIcon: 'fa-headset',
    featured: false,
    iconColor: '#9b59b6'
  },
  {
    type: 'soporte-pyme',
    title: 'Soporte PYME',
    price: '$30,000',
    period: 'mensual',
    description: 'Soporte para PYMEs',
    features: [
      'Cambios de texto e imágenes',
      'Actualizaciones menores',
      'Mantenimiento preventivo',
      'Control de actualizaciones',
      'Respaldo de datos',
      'Asistencia técnica prioritaria',
      'Soporte extendido'
    ],
    buttonText: 'Contratar Soporte',
    buttonIcon: 'fa-cogs',
    featured: false,
    iconColor: '#e67e22'
  }
];
---

<section id="planes" class="pricing-section py-5">
  <div class="container">
    <h2 class="text-center gradient-text mb-5 section-title" style="color: #2c3e50;">Planes para Emprendedores y PYMEs</h2>
    <p class="text-center text-dark mb-5" style="color: #2c3e50;">Soluciones digitales a medida para emprendedores y PYMEs en Posadas, Misiones y toda la provincia. También ofrecemos soporte mensual para mantenimiento y cambios menores.</p>

    <div class="row g-4 justify-content-center">
      {plans.map(plan => (
        <div class="col-lg-4 col-md-6" style="overflow: visible;"> {/* Allow icon to overflow */}
          <div class={`pricing-card h-100 position-relative ${plan.type}-plan ${plan.featured ? 'featured-card' : ''}`} role="region" aria-labelledby={`plan-${plan.type}-title`}>

            <div class="plan-icon text-center mb-4">
              <i class={`fas ${plan.buttonIcon} fa-3x`} style={{color: plan.iconColor}}></i>
            </div>

            <div class="card-header text-center py-4">
              {plan.featured && (
                <div class="badge-featured position-absolute top-0 start-50 translate-middle bg-warning text-dark px-3 py-1 rounded-pill">
                  <small class="font-weight-bold">MÁS POPULAR</small>
                </div>
              )}
              <h3 id={`plan-${plan.type}-title`} class="plan-name gradient-text mb-2">{plan.title}</h3>
              <div class="plan-price mb-2">
                <span class="price-amount text-success">{plan.price}</span>
              </div>
              <p class="plan-description text-dark" style="color: #2c3e50;">{plan.description}</p>
            </div>

            <div class="card-body">
              <ul class="list-unstyled feature-list">
                {plan.features.map(feature => (
                  <li class="feature-item d-flex align-items-center mb-3">
                    <i class="fas fa-check-circle text-success me-2"></i>
                    <span class="text-dark" style="color: #2c3e50;">{feature}</span>
                  </li>
                ))}
              </ul>
            </div>

            <div class="card-footer text-center border-0 bg-transparent">
              <a href="#contacto" class={`btn ${plan.featured ? 'btn-primary' : plan.type === 'soporte' ? 'btn-outline-light' : 'btn-outline-light'} w-100`} aria-label={`Seleccionar plan ${plan.title} para contactar con TekohaTech`}>
                <i class={`fas ${plan.buttonIcon} me-2`}></i>
                {plan.buttonText}
              </a>
            </div>
          </div>
        </div>
      ))}
    </div>

  </div>
</section>

<style>
  .pricing-section {
    background: linear-gradient(135deg, #ecf0f1, #ffffff);
    position: relative;
    padding-top: 5rem;
    padding-bottom: 5rem;
    color: #2c3e50;
  }

  .pricing-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    border: 1px solid rgba(52, 152, 219, 0.2);
    backdrop-filter: blur(10px);
    /* overflow: hidden; --- This was cutting off the icon, so it's removed. */
    transition: all 0.4s ease;
    position: relative;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    word-wrap: break-word; /* Prevents overflow */
    color: #2c3e50;
  }

  .pricing-card:hover {
    transform: translateY(-15px);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
    background: rgba(255, 255, 255, 1);
  }

  .card-header {
    border: none;
    background: transparent;
    padding-top: 2rem;
  }

  .plan-icon {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: #ffffff;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .plan-name {
    font-size: 1.6rem;
    font-weight: 800;
    letter-spacing: 1px;
  }

  .plan-price {
    font-size: 2.2rem;
    font-weight: 800;
  }

  .plan-price-ars {
    font-size: 1.2rem;
    font-weight: 600;
  }

  .price-amount {
    font-size: 2.8rem;
    font-weight: 900;
  }

  .price-ars-amount {
    font-size: 1.4rem;
    font-weight: 700;
    color: #7f8c8d;
  }

  .plan-description {
    font-size: 0.95rem;
    opacity: 0.8;
  }

  .card-body {
    flex-grow: 1; /* Ensures the body takes up available space */
  }
  
  .feature-list {
    padding: 1.5rem 0;
  }

  .feature-item {
    animation: fadeInUp 0.4s ease forwards;
  }

  .card-footer {
      margin-top: auto; /* Pushes footer to the bottom */
  }

  .btn-outline-light {
    border-color: #3498db;
    color: #3498db;
    padding: 14px 20px;
    border-radius: 50px;
    font-weight: 700;
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
  }

  .btn-outline-light:hover {
    background-color: #3498db;
    color: #ffffff;
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(52, 152, 219, 0.4);
  }

  .btn-primary {
    background: linear-gradient(45deg, #1abc9c, #3498db);
    border: none;
    color: #ffffff;
    font-weight: 700;
    padding: 14px 35px;
    border-radius: 50px;
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
    box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
  }

  .btn-primary:hover {
    background: linear-gradient(45deg, #16a085, #2980b9);
    color: #ffffff;
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(26, 188, 156, 0.6);
  }

  .featured-card {
    border: 2px solid #1abc9c;
    transform: scale(1.05);
    z-index: 10;
    background: rgba(255, 255, 255, 0.95);
  }

  .featured-card:hover {
    transform: scale(1.05) translateY(-15px);
  }

  .badge-featured {
    font-size: 0.8rem;
    font-weight: 800;
    z-index: 100;
    letter-spacing: 0.5px;
  }
  
  .requirements-card {
    background: rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    padding: 30px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }

  .requirement-item {
    padding: 20px;
    background: rgba(236, 240, 241, 0.5);
    border-radius: 12px;
    border-left: 4px solid #3498db;
    transition: all 0.3s ease;
    height: 100%;
  }

  .requirement-item:hover {
    transform: translateY(-5px);
    background: rgba(236, 240, 241, 0.8);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
  }

  @media (max-width: 991.98px) {
    .featured-card {
      transform: scale(1);
    }
  }

  /* Responsive adjustments for mobile devices */
  @media (max-width: 767.98px) {
    .pricing-card {
        padding: 20px 15px;
    }
    .plan-name {
        font-size: 1.4rem;
    }
    .plan-price {
        font-size: 1.8rem;
    }
    .price-amount {
        font-size: 2.2rem;
    }
    .feature-list {
        padding: 1rem 0;
    }
    .feature-item span {
        font-size: 0.9rem;
    }
  }
</style>
